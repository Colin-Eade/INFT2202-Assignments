<!--
    Name: Colin Eade (ID:100329105) and Megan Clarke (ID:100881229).
    Date: 2024 Feb 23
    File: events.ejs
    Description: This is the events page for the Harmony Hub website. It is the place for Ajax injection
                    of data from the events.json file. Event cards are created dynamically in the app.ts file.
-->
<h1 class="mt-3 text-center">Official Events</h1>

<% if(messages.length > 0) { %>
    <%- messages %>
<% } %>

<div class="container">
    <div class="mt-3 mb-3 ms-1 me-2 d-flex justify-content-between">
        <a href="/event_planning" class="btn btn-primary btn-sm">
            <i class="fa-regular fa-calendar-plus"></i> Plan A Community Event
        </a>
    </div>

    <div class="row g-1" id="events-container">
        <% events.forEach(function(event) { %>
            <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 d-flex">
                <div class="card" style="margin: 5px; width: 18rem; position: relative;">
                    <% if(!(event.eventImage === '')){%>
                        <img class="card-img-top" src="<%= event.eventImage %>" alt="<%= event.eventName %>">
                    <% } %>
                    <div class="card-body">
                        <h5 class="card-title"><%= event.eventName %></h5>
                        <p class="card-text">Date: <%= new Date(event.eventDate).toLocaleString('en-US', {
                                year: 'numeric',
                                month: 'long',
                                day: 'numeric'
                            }) %></p>
                        <p class="card-text">Time: <%= new Date(event.eventDate).toLocaleString('en-US', {
                                hour: '2-digit',
                                minute: '2-digit'
                            }) %></p>
                        <p class="card-text">Location: <%= event.eventLocation %></p>
                        <p class="card-text"><%= event.eventDescription %></p>
                        <a type="button" href="/like_event/<%= event._id %>" class="mt-1 btn btn-outline-primary btn-sm"><i class="fa-solid fa-thumbs-up"></i></a>
                        <%= event.eventLikeCount %>
                    </div>
                </div>
            </div>
        <% }) %>
    </div>
</div>